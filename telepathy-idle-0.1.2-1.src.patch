--- origsrc/telepathy-idle-0.1.2/configure.ac	2007-09-28 07:42:04.000000000 -0500
+++ src/telepathy-idle-0.1.2/configure.ac	2008-06-24 20:36:58.578125000 -0500
@@ -34,6 +34,8 @@
 dnl GTK docs
 GTK_DOC_CHECK
 
+AC_SEARCH_LIBS([getaddrinfo], [nsl getaddrinfo])
+
 dnl Check for Glib 
 PKG_CHECK_MODULES(GLIB, [glib-2.0 >= 2.4, gobject-2.0 >= 2.4])
 
--- origsrc/telepathy-idle-0.1.2/src/idle-dns-resolver.c	2007-09-25 13:46:25.000000000 -0500
+++ src/telepathy-idle-0.1.2/src/idle-dns-resolver.c	2008-06-24 20:36:58.578125000 -0500
@@ -23,6 +23,10 @@
 #include <sys/socket.h>
 #include <netdb.h>
 
+#ifdef __CYGWIN__
+#include <getaddrinfo.h>
+#endif
+
 #define IDLE_DEBUG_FLAG IDLE_DEBUG_DNS
 #include "idle-debug.h"
 
--- origsrc/telepathy-idle-0.1.2/src/idle-dns-resolver.h	2007-09-25 13:46:25.000000000 -0500
+++ src/telepathy-idle-0.1.2/src/idle-dns-resolver.h	2008-06-24 20:36:58.593750000 -0500
@@ -20,6 +20,7 @@
 
 #include <glib.h>
 #define __USE_POSIX
+#include <sys/socket.h>
 #include <sys/types.h>
 #include <netdb.h>
 #undef __USE_POSIX
